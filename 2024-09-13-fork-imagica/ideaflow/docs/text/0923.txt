首先你是当前项目的开发者，当前项目是用nextjs开发的

现在的问题是：
用户和ai对话完成后，不能直接使用，需要和上一次的对话中的代码合并后才能使用

注意一定不要修改原来的功能，只需要在当前项目上新增代码实现 ai 对话的代码合并功能，并且完成 codehistory 组件


合并代码：
@Codebase @app 帮我在codehistory 组件中将最后两次ai回答的内容进行一个和git类似的代码合并，
我知道可能有点难度，因为ai回答的内容并不知道是代码中的那部分发生了改变，所以需要你来帮我处理.
你需要注意的是 chatmessage 的数据类型


当我告知ai帮我进一步迭代时,他没有给出非常明确的方向,可能是我对项目的描述不够清晰,所以导致他给出的方案并不是我想要的
因为该项目经常在两个电脑来回切换,很难让它在下一次时只通过代码就能知道如何实现

因为本身我并不知道我想做一个什么样的应用, 所以每一次在和cursor沟通就会有新的尝试

这一次明显curosr说新增加可以对代码进行编辑的功能, html 代码可以直接运行预览,但是python或其他后端语言无法我都不知道curosr应该如何无缝衔接
等下一次和他沟通可能就有答案了
